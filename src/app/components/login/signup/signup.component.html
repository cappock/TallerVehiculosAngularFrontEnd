<div class="register-container">
  <div class="form-container">
    <h4 class="title">Sign up new Employee</h4>
    <form (submit)="onSubmit()" [formGroup]="signUpForm">

      <div class="col input-container">
        <label for="username">Username</label>
        <input [ngClass]="{ 'is-invalid': submitted && f.username.errors }" class="input" formControlName="username"
          id="username" placeholder="username" type="text" />
        <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
          <div *ngIf="f.username.errors.required">username is Required</div>
        </div>
      </div>
      <div class="cols-2">
        <div class="col input-container">
          <label for="password">Password</label>
          <input [ngClass]="{ 'is-invalid': submitted && f.password.errors }" class="input" formControlName="password"
            id="password" placeholder="password" type="password" />
          <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
            <div *ngIf="f.password.errors.required">password is Required</div>
            <div *ngIf="f.password.errors.hasNumber">Must contain at least 1 number!</div>
            <div *ngIf="f.password.errors.hasCapitalCase">Must contain at least 1 in Capital Case!</div>
            <div *ngIf="f.password.errors.hasSmallCase">Must contain at least 1 Letter in Small Case!</div>
            <div *ngIf="f.password.errors.hasSpecialCharacters">Must contain at least 1 Special Character!</div>

          </div>
        </div>


        <div class="col input-container">
          <label for="confirmPassword">Confirm Password</label>
          <input [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors }" class="input" formControlName="confirmPassword"
            id="confirm-confirmPassword" placeholder="confirmPassword" type="password" />
          <div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
            <div *ngIf="f.confirmPassword.errors.NoPassswordMatch">Password do not match</div>

            <div *ngIf="f.confirmPassword.errors.required">Password is Required!</div>
          </div>
        </div>
      </div>
      
      <div class="cols-2">
        <div class="col input-container">
          <label for="names">Names</label>
          <input [ngClass]="{ 'is-invalid': submitted && f.names.errors }" class="input" formControlName="names"
            id="names" placeholder="name" type="text" />
          <div *ngIf="submitted && f.names.errors" class="invalid-feedback">
            <div *ngIf="f.names.errors.required">names is Required</div>
          </div>
        </div>

        <div class="col input-container">
          <label for="surnames">Surnames</label>
          <input [ngClass]="{ 'is-invalid': submitted && f.surnames.errors }" class="input" formControlName="surnames"
            id="surnames" placeholder="surname" type="text" />
          <div *ngIf="submitted && f.surnames.errors" class="invalid-feedback">
            <div *ngIf="f.surnames.errors.required">surnames is Required</div>
          </div>
        </div>
      </div>

      <div class="cols-2">
        <div class="col input-container">
          <label for="email">Email address</label>
          <input [ngClass]="{ 'is-invalid': submitted && f.email.errors }" class="input" formControlName="email"
            id="email" placeholder="email" type="text" />
          <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
            <div *ngIf="f.email.errors.required">email is Required</div>
          </div>
        </div>

        <div class="col input-container">
          <label for="phone">Phone number</label>
          <input [ngClass]="{ 'is-invalid': submitted && f.phone.errors }" class="input" formControlName="phone"
            id="phone" placeholder="phone" type="text" />
          <div *ngIf="submitted && f.phone.errors" class="invalid-feedback">
            <div *ngIf="f.phone.errors.required">phone is Required</div>
          </div>
        </div>
      </div>

      <div class="cols-2">
        <div class="col input-container">
          <label for="role">Role</label>

          <select class="input" (change)="changeRole($event)" formControlName="role">
            
            <option *ngFor="let role of roles">{{role}}</option>
          </select>
          <div *ngIf="submitted && f.role.errors" class="invalid-feedback">
            <div *ngIf="f.role.errors.required">Role is Required</div>
          </div>
        </div>

        <div class="col input-container">
          <label for="identity_card">Identity Card</label>
          <input [ngClass]="{ 'is-invalid': submitted && f.identity_card.errors }" class="input"
            formControlName="identity_card" id="identity_card" placeholder="identity card" type="text" />
          <div *ngIf="submitted && f.identity_card.errors" class="invalid-feedback">
            <div *ngIf="f.identity_card.errors.required">Id is Required</div>
          </div>
        </div>
      </div>

      <div class="buttons-container">
        <button class="btn-advice" (click)="onReset()">Restore</button>
        <button [disabled]="loading" class="btn-important">
          <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
          Sign Up
        </button>
      </div>
    </form>
  </div>
</div>